import{r as i,j as e,m as B,L as D}from"./app-CV7uQCN8.js";import{N as F}from"./navbar-B6tlJW2d.js";import{L as y,I,a as E}from"./label-x6oTiqfk.js";import{T as S}from"./text-link-DESnNbEa.js";import{u as M,c as q,B as H}from"./button-CK7hImMG.js";import{u as T,a as K,c as W,b as P,P as X}from"./index-CYAynWv6.js";import{P as R}from"./index-Bd8yo3FE.js";import{c as $}from"./createLucideIcon-CbpJX9Ck.js";import{A as G,L as J}from"./auth-layout-BCBPz8WN.js";import{E as Q,a as U}from"./eye-p6vnCM7Y.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y=$("Check",V);function Z(t){const s=i.useRef({value:t,previous:t});return i.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function ee(t){const[s,r]=i.useState(void 0);return T(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const o=l[0];let c,n;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;c=f.inlineSize,n=f.blockSize}else c=t.offsetWidth,n=t.offsetHeight;r({width:c,height:n})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}var w="Checkbox",[te,ve]=W(w),[re,se]=te(w),z=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:o,required:c,disabled:n,value:d="on",onCheckedChange:f,form:p,...m}=t,[x,k]=i.useState(null),C=M(s,u=>k(u)),g=i.useRef(!1),N=x?p||!!x.closest("form"):!0,[b=!1,j]=K({prop:l,defaultProp:o,onChange:f}),_=i.useRef(b);return i.useEffect(()=>{const u=x==null?void 0:x.form;if(u){const v=()=>j(_.current);return u.addEventListener("reset",v),()=>u.removeEventListener("reset",v)}},[x,j]),e.jsxs(re,{scope:r,state:b,disabled:n,children:[e.jsx(R.button,{type:"button",role:"checkbox","aria-checked":h(b)?"mixed":b,"aria-required":c,"data-state":O(b),"data-disabled":n?"":void 0,disabled:n,value:d,...m,ref:C,onKeyDown:P(t.onKeyDown,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:P(t.onClick,u=>{j(v=>h(v)?!0:!v),N&&(g.current=u.isPropagationStopped(),g.current||u.stopPropagation())})}),N&&e.jsx(oe,{control:x,bubbles:!g.current,name:a,value:d,checked:b,required:c,disabled:n,form:p,style:{transform:"translateX(-100%)"},defaultChecked:h(o)?!1:o})]})});z.displayName=w;var L="CheckboxIndicator",A=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:a,...l}=t,o=se(L,r);return e.jsx(X,{present:a||h(o.state)||o.state===!0,children:e.jsx(R.span,{"data-state":O(o.state),"data-disabled":o.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...t.style}})})});A.displayName=L;var oe=t=>{const{control:s,checked:r,bubbles:a=!0,defaultChecked:l,...o}=t,c=i.useRef(null),n=Z(r),d=ee(s);i.useEffect(()=>{const p=c.current,m=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(m,"checked").set;if(n!==r&&k){const C=new Event("click",{bubbles:a});p.indeterminate=h(r),k.call(p,h(r)?!1:r),p.dispatchEvent(C)}},[n,r,a]);const f=i.useRef(h(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??f.current,...o,tabIndex:-1,ref:c,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h(t){return t==="indeterminate"}function O(t){return h(t)?"indeterminate":t?"checked":"unchecked"}var ae=z,ne=A;function ie({className:t,...s}){return e.jsx(ae,{"data-slot":"checkbox",className:q("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(ne,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Y,{className:"size-3.5"})})})}function ke({status:t,canResetPassword:s}){const{data:r,setData:a,post:l,processing:o,errors:c,reset:n}=B({email:"",password:"",remember:!1}),[d,f]=i.useState(!1),p=m=>{m.preventDefault(),l(route("login"),{onSuccess:()=>{window.location.reload()},onFinish:()=>n("password")})};return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsxs(G,{title:"Iniciar sesión",description:"Introduce tus datos para iniciar sesión",children:[e.jsx(D,{title:"Iniciar sesión"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:p,children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(y,{htmlFor:"email",children:"Email"}),e.jsx(I,{id:"email",type:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",value:r.email,onChange:m=>a("email",m.target.value),placeholder:"Correo electrónico"}),e.jsx(E,{message:c.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{htmlFor:"password",children:"Contraseña"}),s&&e.jsx(S,{href:route("password.request"),className:"ml-auto text-sm",tabIndex:5,children:"¿Olvidaste tu contraseña?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{id:"password",type:d?"text":"password",required:!0,tabIndex:2,autoComplete:"current-password",value:r.password,onChange:m=>a("password",m.target.value),placeholder:"Contraseña",className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-3 flex items-center text-muted-foreground",tabIndex:-1,children:d?e.jsx(Q,{size:18}):e.jsx(U,{size:18})})]}),e.jsx(E,{message:c.password})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ie,{id:"remember",name:"remember",checked:r.remember,onClick:()=>a("remember",!r.remember),tabIndex:3}),e.jsx(y,{htmlFor:"remember",children:"Recuérdame"})]}),e.jsxs(H,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:o,children:[o&&e.jsx(J,{className:"h-4 w-4 animate-spin"}),"Iniciar sesión"]})]}),e.jsxs("div",{className:"text-muted-foreground text-center text-sm",children:["¿No tienes una cuenta?"," ",e.jsx(S,{href:route("register"),tabIndex:6,children:"Registrarse"})]})]}),t&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:t})]})]})}export{ke as default};
