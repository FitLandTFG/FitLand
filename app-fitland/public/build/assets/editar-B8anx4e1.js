import{m as f,r as m,j as e}from"./app-CV7uQCN8.js";const j=({usuario:l})=>{const{data:n,setData:i,put:c,processing:x,errors:s}=f({nombre_completo:l.nombre_completo,documentacion:l.documentacion,domicilio:l.domicilio,email:l.email,password:"",imagen:l.imagen,roles:l.roles,email_verified_at:l.email_verified_at}),[d,o]=m.useState(!!l.email_verified_at),p=()=>{const a=!d;if(o(a),a){const t=new Date,r=new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,19).replace("T"," ");i("email_verified_at",r)}else i("email_verified_at",null)},b=a=>{a.preventDefault(),c(`/admin/usuarios/${l.id}`)};return m.useEffect(()=>{l.email_verified_at?o(!0):o(!1)},[l.email_verified_at]),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Editar Usuario"}),e.jsxs("form",{onSubmit:b,className:"space-y-4 max-w-xl",children:[[{name:"nombre_completo",label:"Nombre completo"},{name:"documentacion",label:"DNI/NIF"},{name:"domicilio",label:"Domicilio"},{name:"email",label:"Email",type:"email"},{name:"password",label:"Contraseña (dejar vacío para no cambiar)",type:"password"},{name:"imagen",label:"Imagen (URL)"}].map(({name:a,label:t,type:r="text"})=>e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-semibold",children:t}),e.jsx("input",{type:r,value:n[a]??"",onChange:h=>i(a,h.target.value),className:"w-full border rounded px-3 py-2"}),s[a]&&e.jsx("p",{className:"text-red-600 text-sm",children:s[a]})]},a)),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-semibold",children:"Rol"}),e.jsxs("select",{value:n.roles,onChange:a=>i("roles",a.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]}),s.roles&&e.jsx("p",{className:"text-red-600 text-sm",children:s.roles})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold",children:"¿Email Verificado? "}),e.jsx("input",{type:"checkbox",checked:d,onChange:p,className:"mr-2"}),s.email_verified_at&&e.jsx("p",{className:"text-red-600 text-sm",children:s.email_verified_at})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50",children:"Actualizar usuario"}),e.jsx("a",{href:"/admin/usuarios",className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Volver"})]})]})]})};export{j as default};
